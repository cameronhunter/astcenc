#!/usr/bin/env node

const pkgName = `${process.platform}-${process.arch}`;

let executablePath;
try {
  executablePath = require('resolve-bin').sync(`@astcenc/${pkgName}`, { executable: `astcenc-${pkgName}` });
} catch {
  console.error(`Could not find astcenc executable for ${process.platform} ${process.arch}`);
  process.exit(1);
}

const { status } = require('child_process').spawnSync(executablePath, process.argv.slice(2), { stdio: 'inherit' });

if (status !== null) {
  process.exit(status);
}
